---
title: ë¦¬ì•¡íŠ¸ ì½”ë“œ ë¶„í•  (code splitting)
date: 2024-02-16 13:24:00 +09:00
categories: ["í”„ë ˆì„ì›Œí¬", "ë¦¬ì•¡íŠ¸"]
tags: []
toc: true
toc_sticky: true
---

## âœ¨ì½”ë“œ ë¶„í•  (code splitting)

[React ê³µì‹ ë¬¸ì„œ - code-splitting](https://ko.legacy.reactjs.org/docs/code-splitting.html)

ë¦¬ì•¡íŠ¸ëŠ” webpackê³¼ ê°™ì€ ë²ˆë“¤ëŸ¬ì„ ì‚¬ìš©í•´ì„œ, ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ë¡œ ë³‘í•©í•œ íŒŒì¼ì„ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì ìš©ì„ í•©ë‹ˆë‹¤. ë²ˆë“¤ì€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ë¡œ ë³‘í•©í•œë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, íŒŒì¼ì˜ ìš©ëŸ‰ì´ ì»¤ì§€ë©´ ë²ˆë“¤ë„ ì»¤ì§€ê¸° ë•Œë¬¸ì— ì²˜ìŒ í™”ë©´ì— ì§„ì…í•  ë•Œ ë°ì´í„°ë¥¼ ë‹¤ìš´ë°›ëŠ”ë° ì˜¤ëœ ì‹œê°„ ê¸°ë‹¤ë ¤ì•¼í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” **ë²ˆë“¤ì˜ ì»¤ì§€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì½”ë“œ ë¶„í• (code splitting)ì„** í•´ê²°ì±…ìœ¼ë¡œ ì œì‹œí•©ë‹ˆë‹¤. ì½”ë“œ ë¶„í• ì€ webpack, rollupê³¼ ê°™ì€ ë²ˆë“¤ëŸ¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ğŸ“˜ì—­í• 

ë²ˆë“¤ì´ ì»¤ì§€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì½”ë“œë¥¼ ìª¼ê°œëŠ” ê²ƒì…ë‹ˆë‹¤. **ì¦‰, ì§€ê¸ˆ ë‹¹ì¥ í•„ìš”í•œ ì½”ë“œê°€ ì•„ë‹ˆë¼ë©´, ë‚˜ì¤‘ì— í•„ìš”í•  ë•Œ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤.

### ğŸ“˜ì‚¬ìš©í•˜ëŠ” ì´ìœ ?

ì½”ë“œ ë¶„í• ì„ ì‚¬ìš©í•˜ë©´ í•„ìš”í•œ ì½”ë“œë§Œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì´ˆê¸° ë¡œë“œ ì‹œê°„ê³¼ ë¸Œë¼ìš°ì €ê°€ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ì‘ì—…ì–‘ì´ ì¤„ì–´ ì•± ì„±ëŠ¥ì„ ê°œì„ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ¨ë¦¬ì•¡íŠ¸ì—ì„œ ì½”ë“œ ë¶„í• í•˜ê¸° with `lazy()`, `Suspense`

ë¦¬ì•¡íŠ¸ì— ìˆëŠ” lazyí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì—° ë¡œë”© ì‹œí‚¬ ìˆ˜ ìˆë‹¤. lazyë¡œ ê°ì‹¸ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” `Suspense` ì»´í¬ë„ŒíŠ¸ í•˜ìœ„ì—ì„œ ë Œë”ë§ë˜ì–´ì•¼í•œë‹¤. `Suspense` ì»´í¬ë„ŒíŠ¸ì—ëŠ” lazyë¡œ ê°ì‹¸ì§„ ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë˜ê¸¸ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë³´ì—¬ì§ˆ ë¡œë”© í™”ë©´ê³¼ ê°™ì€ ì½˜í…ì¸ ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì£¼ë¡œ Route ë‹¨ê³„ì— ì ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ í˜ì´ì§€ë¡œ ì ‘ê·¼í•˜ê¸° ì „ê¹Œì§€ëŠ” ì§€ì—°ë¡œë”© ì‹œì¼œ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë“¤ë§Œ ë‹¤ìš´ë°›ì•„ ë¡œë“œ ì‹œê°„ì„ ì¤„ì¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œ ê´€ë ¨ ë¦¬ì†ŒìŠ¤ë“¤ì„ ë‹¤ìš´ë°›ì•„ì•¼í•˜ê¸° ë•Œë¬¸ì— í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œë§ˆë‹¤ ë¡œë”© í™”ë©´ì´ ë³´ì—¬ì§€ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.

### ğŸ“˜lazy ì‚¬ìš©í•˜ê¸°

#### lazy ë¯¸ì ìš©

- ì²˜ìŒ ë Œë”ë§ë  ë•Œ OtherComponentë¥¼ í¬í•¨í•œ ë²ˆë“¤ì„ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜´

```js
import OtherComponent from "./OtherComponent";
```

#### lazy ì ìš©

- `React.lazy()`ë¡œ OtherComponentë¥¼ ê°ì‹¸ í•„ìš”í•  ë•Œ ë¡œë“œë˜ë„ë¡ ì„¤ì •
- `Suspense`ì˜ fallbackì— ë¡œë”©ë  ë•Œ ë³´ì—¬ì§ˆ í™”ë©´ì„ êµ¬ìƒ

```js
import React, { Suspense } from "react";

const OtherComponent = React.lazy(() => import("./OtherComponent"));

function MyComponent() {
  return (
    <div>
      <Suspense fallback={<div>Loading...</div>}>
        <OtherComponent />
      </Suspense>
    </div>
  );
}
```

### ğŸ“˜lazy ì‚¬ìš© ì˜ˆ

![dashboardReact](https://github.com/hyemin12/hyemin12.github.io/assets/66300732/c13859b9-c99b-46ed-9fce-b67ca4888286)

ìƒë‹¨ ì´ë¯¸ì§€ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ 5ê°œì˜ í˜ì´ì§€ë¡œ ë§Œë“¤ì–´ì ¸ìˆê³ , ê°ê°ì˜ í˜ì´ì§€ëŠ” ì—¬ëŸ¬ê°œì˜ ìœ„ì ¯ë“¤ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤. ë”°ë¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì²˜ìŒ ì ‘ê·¼í•  ë•Œì— ê° í˜ì´ì§€ì˜ ë°ì´í„°ë“¤ì„ ëª¨ë‘ ë¡œë“œí•˜ê¸° ë•Œë¬¸ì— ì¸í„°ë„· ì—°ê²° ìƒíƒœê°€ ì¢‹ì§€ ì•Šìœ¼ë©´ ë¡œë“œ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦°ë‹¤.

ì´ëŸ´ ë•Œ ìš©ëŸ‰ì´ í° í˜ì´ì§€ë“¤ì„ `lazy`í•¨ìˆ˜ë¡œ ë¬¶ì–´ ì§€ì—° ë¡œë”©ì„ ì‹œì¼œ, ì²« ì§„ì…ì‹œ ë¡œë“œ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```js
import React, { lazy, Suspense } from "react";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import NotFound from "./pages/NotFound";

const Home = lazy(() => import("./Home"));
const SearchResult = lazy(() => import("./SearchResult"));
const Schedule = lazy(() => import("./Schedule"));
const Todos = lazy(() => import("./Todos"));
const Works = lazy(() => import("./Works"));
const MyPage = lazy(() => import("./MyPage"));

function App() {
  return (
    <div className="App">
      <BrowserRouter>
        <Suspense fallback={<div>Loading...</div>}>
          <Routes>
            <Route path="/" element={<Home />} />
            <Route path="/search/:query" element={<SearchResult />} />
            <Route path="/schedule" element={<Schedule />} />
            <Route path="/todos" element={<Todos />} />
            <Route path="/works" element={<Works />} />
            <Route path="/myPage" element={<MyPage />} />
          </Routes>
        </Suspense>
        <Route path="*" element={<NotFound />} />
      </BrowserRouter>
    </div>
  );
}

export default App;
```

- `NotFound`ì»´í¬ë„ŒíŠ¸ëŠ” ì§€ì—°ë¡œë”©ê³¼ëŠ” ê´€ë ¨ì´ ì—†ê¸° ë•Œë¬¸ì— Suspense ë°–ìœ¼ë¡œ ë¶„ë¦¬

## âœ¨ì½”ë“œë¶„í• ì˜ ë‹¨ì 

- ì½”ë“œ ë¶„í• ì€ ë³µì¡ì„±ì„ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆìŒ
- ì‚¬ìš©ìê°€ ì•±ì„ ì²˜ìŒ ë¡œë“œí•  ë•Œ ë” ë§ì€ HTTP ìš”ì²­ì´ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ

ì°¸ê³  ì‚¬ì´íŠ¸

- [https://ko.legacy.reactjs.org/docs/code-splitting.html](https://ko.legacy.reactjs.org/docs/code-splitting.html)
- [ì½”ë“œ ë¶„í•  (Code Splitting)](https://anhyang.tistory.com/62)
