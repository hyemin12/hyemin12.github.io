---
title: ë¦¬ì•¡íŠ¸ì—ì„œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ì‚¬ìš©í•˜ê¸°
date: 2024-03-12 13:24:00 +09:00
categories: ["í”„ë ˆì„ì›Œí¬", "ë¦¬ì•¡íŠ¸"]
tags: []
toc: true
toc_sticky: true
---

## âœ¨ë¦¬ì•¡íŠ¸ì—ì„œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ì‚¬ìš©í•˜ê¸°

### 1. `useParams`

[ê³µì‹ë¬¸ì„œ](https://reactrouter.com/en/main/hooks/use-params)

í˜„ì¬ URLì˜ ë™ì  ê²½ë¡œë¥¼ ë°˜í™˜í•˜ëŠ” react-router-domì˜ hookì…ë‹ˆë‹¤. `Route`ì—ì„œ `:id`ì™€ ê°™ì´ ë™ì ìœ¼ë¡œ ì„¤ì •ëœ pathë¥¼ ì°¾ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ ê°œì˜ ë™ì  ê²½ë¡œë¥¼ ì¶”ì¶œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

#### ğŸ’¡ì˜ˆì‹œ

```js
import { Routes, Route, useParams } from "react-router-dom";

function ProfilePage() {
  const { userId } = useParams();
  return <div>user id: {userId}</div>;
}

function App() {
  return (
    <Routes>
      <Route path="users">
        <Route path=":userId" element={<ProfilePage />} />
      </Route>
    </Routes>
  );
}
```

ìœ„ì˜ ì½”ë“œëŠ” root ê²½ë¡œì—ì„œ `/users/:userId`ë¡œ ì§„ì…í–ˆì„ ë•Œ ë™ì  pathë¥¼ ê°€ì§„ë‹¤. ì¦‰, `http://localhost:3000/users/1231`ë¡œ ì ‘ê·¼ì„ í•œë‹¤ë©´ í™”ë©´ì— "user id: 1231"ì´ ì¶œë ¥ëœë‹¤.

#### ğŸ’¡ì˜ˆì‹œ2

```js
import { Routes, Route, useParams } from "react-router-dom";

function ProductDetails() {
  const { category, productId } = useParams();
  return (
    <div>
      <h2>Category: {category}</h2>
      <h3>Product ID: {productId}</h3>
    </div>
  );
}

function App() {
  return (
    <Routes>
      <Route path="products">
        <Route path=":category/:productId" element={<ProductDetails />} />
      </Route>
    </Routes>
  );
}
```

ìœ„ì˜ ì½”ë“œëŠ” root ê²½ë¡œì—ì„œ `/products/:category/:productId`ë¡œ ì§„ì…í–ˆì„ ë•Œ `category`ì™€ `productId`, 2ê°œì˜ ë™ì  pathë¥¼ ê°€ì§„ë‹¤. ì¦‰, `http://localhost:3000/products/electronics/123`ë¡œ ì ‘ê·¼ì„ í•œë‹¤ë©´ í™”ë©´ì— "Category: electronics"ì™€ "Product ID: 123"ì´ ì¶œë ¥ëœë‹¤.

### 2. `useLocation`

[ê³µì‹ë¬¸ì„œ](https://reactrouter.com/en/main/hooks/use-location)

í˜„ì¬ URLì˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” react-router-domì˜ hookì…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì†ì„±ë“¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

#### â–  ì†ì„±

- `location.hash`: í˜„ì¬ URLì˜ í•´ì‹œ ê°’ (í•´ì‹œ ë¼ìš°í„°ì—ì„œ ì‚¬ìš©)
- `location.key`: ê³ ìœ í•œ í‚¤ ê°’, í˜ì´ì§€ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê³ ìœ  ê°’ì´ ìƒì„±ë¨
- `location.pathname`: í˜„ì¬ URLì˜ ê²½ë¡œ
- `location.search`: í˜„ì¬ URLì˜ ì¿¼ë¦¬ ë¬¸ìì—´
- `location.state`: ìœ„ì¹˜ì˜ ìƒíƒœ ê°’ (react-router-domì˜ Linkíƒœê·¸ë‚˜ navigateì— ì˜í•´ ì „ë‹¬ëœ ìƒíƒœ ê°’)

#### ğŸ’¡ì˜ˆì‹œ

```js
import React, { useEffect } from "react";
import { Link, useLocation } from "react-router-dom";

function Navbar() {
  const location = useLocation();

  useEffect(() => {
    console.log("í˜„ì¬ URL ê²½ë¡œ: ", location.pathname);
  }, [location]);

  return (
    <nav>
      <ul>
        <li>
          <Link to="/">Home</Link>
        </li>
        <li>
          <Link to="/about">About</Link>
        </li>
        <li>
          <Link to="/contact">Contact</Link>
        </li>
      </ul>
    </nav>
  );
}
```

ìœ„ì˜ ì½”ë“œëŠ” `useLocation`ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ URLì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ , `useEffect`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ê°€ ì´ë™ë  ë•Œë§ˆë‹¤ ì½˜ì†”ì°½ì— URL ê²½ë¡œë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
ê° í˜ì´ì§€ë¡œ ì´ë™í–ˆì„ ë•Œ ì¶œë ¥ë˜ëŠ” ê²°ê³¼ë¬¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- Home í˜ì´ì§€ë¡œ ì´ë™ â†’ "í˜„ì¬ URL ê²½ë¡œ: /" ì¶œë ¥
- About í˜ì´ì§€ë¡œ ì´ë™ â†’ "í˜„ì¬ URL ê²½ë¡œ: /about" ì¶œë ¥
- Contact í˜ì´ì§€ë¡œ ì´ë™ â†’ "í˜„ì¬ URL ê²½ë¡œ: /contact" ì¶œë ¥

#### ğŸ’¡ì˜ˆì‹œ2

```js
import { Link } from "react-router-dom";

// Link íƒœê·¸ì— stateë¡œ ìƒíƒœê°’ ì „ë‹¬
function App() {
  return (
    <div>
      <Link
        to={{
          pathname: "/about",
          state: { user: currentUser }
        }}
      >
        Go to About
      </Link>
    </div>
  );
}

// useLocationìœ¼ë¡œ stateê°’ ì¶”ì¶œ
function About() {
  const location = useLocation();
  const { user } = location.state;

  return (
    <div>
      <h4>ì‚¬ìš©ì ì •ë³´ {user}</h4>
    </div>
  );
}
```

ìœ„ì˜ ì½”ë“œëŠ” `App` ì»´í¬ë„ŒíŠ¸ì—ì„œ `Link`íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ stateê°’ì„ ì „ë‹¬í•˜ê³  ìˆê³ , `About`ì»´í¬ë„ŒíŠ¸ì—ì„œ `useLocation`ì„ ì‚¬ìš©í•˜ì—¬ stateê°’ì„ ì¶”ì¶œí•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### 3. `useSearchParams`

[ê³µì‹ë¬¸ì„œ](https://reactrouter.com/en/main/hooks/use-search-params)

í˜„ì¬ ìœ„ì¹˜ì˜ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ì½ê³  ìˆ˜ì •í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” react-router-domì˜ hookì…ë‹ˆë‹¤. `useState`ì™€ ê°™ì´ ë‘ ê°€ì§€ ê°’ì˜ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```js
const [searchParams, setSearchParams] = useSearchParams();
```

- `searchParams`: í˜„ì¬ ì¿¼ë¦¬ ë¬¸ìì—´ ì •ë³´ ë°˜í™˜
- `setSearchParams`: ì¿¼ë¦¬ ë¬¸ìì—´ì„ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©

â€» ì¿¼ë¦¬ ë¬¸ìì—´?

ì›¹í˜ì´ì§€ URLì—ì„œ `?`ë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ì´ë©°, `í‚¤=ê°’`ì˜ í˜•íƒœë¡œ ì´ë£¨ì–´ì ¸ìˆìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ ì¿¼ë¦¬ ë¬¸ìì—´ì€ `?`ë¡œ ì‹œì‘í•˜ë©° ì´í›„ ì¿¼ë¦¬ ë¬¸ìì—´ì€ `&`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚˜ì—´í•©ë‹ˆë‹¤.  
ì£¼ë¡œ ê²€ìƒ‰ì–´, í•„í„°, í˜ì´ì§€ ë²ˆí˜¸ì™€ ê°™ì€ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê±°ë‚˜, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¬¸ìì—´ì„ ì½ì–´ì™€ ë™ì ìœ¼ë¡œ ì½˜í…ì¸ ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
https://example.com/search?q=react+router&lang=en&page=1
```

ë‹¤ìŒê³¼ ê°™ì€ URLì—ì„œ ì¿¼ë¦¬ ë¬¸ìì—´ì€ `q=react+router&lang=en&page=1` ë¶€ë¶„ì´ë©°, 3ê°œë¡œ ì´ë£¨ì–´ì ¸ìˆìŠµë‹ˆë‹¤.

- `q=react+router`: ê²€ìƒ‰ì–´ê°€ react routerë¡œ ì„¤ì •
- `lang=en`: ì–¸ì–´ê°€ ì˜ì–´ë¡œ ì„¤ì •
- `page=1`: í˜ì´ì§€ê°€ 1ë¡œ ì„¤ì •

#### ğŸ’¡ì˜ˆì‹œ

```js
import { useSearchParams } from "react-router-dom";

function App() {
  let [searchParams, setSearchParams] = useSearchParams();

  function handleSubmit(event) {
    event.preventDefault();
    // serialize í•¨ìˆ˜ëŠ” í¼ì˜ í•„ë“œì—ì„œ { key: value } ìŒì˜ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    const params = serializeFormQuery(event.target);
    setSearchParams(params);
  }

  return (
    <div>
      <form onSubmit={handleSubmit}>{/* ... */}</form>
    </div>
  );
}
```

### 4. `URLSearchParams`

[ê³µì‹ë¬¸ì„œ](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ë‚´ì¥ APIì…ë‹ˆë‹¤. `new` ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ë„ ìˆìœ¼ë©°, ì—¬ëŸ¬ í˜•íƒœì˜ ê°’ì„ ì¸ìë¡œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ’»ì¸ì ë„£ëŠ” ë°©ë²•

1. 2ì°¨ì› ë°°ì—´

```js
new URLSearchParamas([
  ["query", "params"],
  ["page", 1],
  ["sort", "desc"]
]);
```

2. ì¿¼ë¦¬ ë¬¸ìì—´ í˜•íƒœ

```js
new URLSearchParams("?query=params&page=1&sort=desc");

// ë§¨ ì• ? ê¸°í˜¸ëŠ” ìƒëµ ê°€ëŠ¥
new URLSearchParams("query=params&page=1&sort=desc");
```

### ğŸ’»ìƒˆë¡œìš´ íŒŒë¼ë¯¸í„° ì¶”ê°€í•˜ê¸°

#### 1. `append`

ìƒˆë¡œìš´ íŒŒë¼ë¯¸í„°(í‚¤=ê°’)ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
const params = new URLSearchParams();
params.append("query", "params");
params.append("page", 1);
params.append("sort", "desc");
params.toString(); // íŒŒë¼ë¯¸í„°ë¥¼ ë¬¸ìì—´ë¡œ ë§Œë“¤ê¸°

// "?query=params&page=1&sort=desc"
```

#### 2. `set`

ìƒˆë¡œìš´ íŒŒë¼ë¯¸í„°(í‚¤=ê°’)ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. `append`ì™€ëŠ” ë‹¤ë¥´ê²Œ ê¸°ì¡´ ê°’ì„ ì§€ìš°ê³  ìƒˆë¡œìš´ ê°’ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```js
const params = new URLSearchParams();
params.set("query", "params");
params.set("page", 1);
params.set("page", 12);
params.set("sort", "desc");
params.toString(); // íŒŒë¼ë¯¸í„°ë¥¼ ë¬¸ìì—´ë¡œ ë§Œë“¤ê¸°

// "?query=params&page=12&sort=desc"
```

ì˜ˆì‹œ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ë©´ ì¤‘ë³µë˜ëŠ” keyì¸ pageê°€ ë®ì–´ì”Œì–´ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ’»ì¿¼ë¦¬ ë¬¸ìì—´ í‚¤ì˜ ê°’ ì¶”ì¶œí•˜ê¸°

#### 1. `get`

ì¿¼ë¦¬ ë¬¸ìì—´ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. `get`ì€ ì²«ë²ˆì§¸ ê°’ë§Œ ë¬¸ì í˜•íƒœë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

```js
// params = "?query=params&page=1&page=12&sort=desc"
params.get("query"); // 'params'
params.get("page"); // '1'
```

#### 2. `getAll`

`get`ê³¼ëŠ” ë‹¤ë¥´ê²Œ íŠ¹ì • keyì— ëŒ€í•œ ëª¨ë“  ê°’ì„ ë°°ì—´ í˜•íƒœë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

```js
// params = "?query=params&page=1&page=12&sort=desc"
params.getAll("query"); // ['params']
params.getAll("page"); // ['1','12']
```

### ğŸ’»ì¿¼ë¦¬ ë¬¸ìì—´ ì‚­ì œí•˜ê¸°

`delete`ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. í•´ë‹¹ keyì˜ ëª¨ë“  ê°’ì´ ì‚­ì œë©ë‹ˆë‹¤.

```js
// params = "?query=params&page=1&page=12&sort=desc"
params.delete("page"); // "?query=params&sort=desc"
```

### ğŸ’»íŠ¹ì • ë¬¸ìì—´ì´ ë“¤ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°

`has` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. íŠ¹ì • íŒŒë¼ë¯¸í„°(key ê°’)ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
// params = "?query=params&page=1&page=12&sort=desc"
params.has("query"); // true
params.has("limit"); // false
```

## ğŸ”ë¦¬ì•¡íŠ¸ì—ì„œ useSearchParams í›…ì„ ì‚¬ìš©í•  ë•Œ URLSearchParamsë„ ê°™ì´ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ì¡°ì‘í•˜ëŠ” ì´ìœ ?

react-router-domì˜ `useSearchParams`ë¥¼ ì‚¬ìš©í•˜ë©´ `setSearchParams` í†µí•´ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ <span style="color:tomato">ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´</span> `URLSearchParams` ì™€ ê°™ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.

ì°¸ì¡°ê°’ì„ ì €ì¥í•˜ê³  ìˆëŠ” ìƒíƒœ ë³€ìˆ˜ë¥¼ ì§ì ‘ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì‚¬ì´ë“œ ì´íŒ©íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ìƒíƒœ ë³€ìˆ˜ì˜ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
ë”°ë¼, `useSearchParams`ì˜ `setSearchParams`ì„ ì‚¬ìš©í•˜ì—¬ `searchParams`ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šê³  `URLSearchParams`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•œ ë‹¤ìŒ ìƒˆë¡­ê²Œ ìƒì„±ëœ ê°ì²´ë¥¼ ì¡°ì‘í•˜ê³  ë‚œ ë’¤ `setSearchParams`ì— ë‹´ì•„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ì¡°ì‘í•©ë‹ˆë‹¤.

ğŸ’¡ì˜ˆì‹œ

```js
import React, { useEffect } from "react";
import { useSearchParams } from "react-router-dom";

function App() {
  const [searchParams, setSearchParams] = useSearchParams();

  useEffect(() => {
    // URLSearchParamsë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±
    const params = new URLSearchParams(searchParams);

    // ìƒˆë¡œìš´ ê²€ìƒ‰ ë§¤ê°œë³€ìˆ˜ ì„¤ì •
    params.set("page", "2");

    // setSearchParamsë¥¼ í†µí•´ ìƒˆë¡œìš´ ê²€ìƒ‰ ë§¤ê°œë³€ìˆ˜ë¡œ ì—…ë°ì´íŠ¸
    setSearchParams(params.toString());
  }, [searchParams, setSearchParams]);

  return (
    <div>
      <h1>React App</h1>
    </div>
  );
}

export default App;
```

1. `useSearchParams`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ URLì˜ ì¿¼ë¦¬ ë¬¸ìì—´ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
2. `new URLSearchParams(searchParams)`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ë³µì‚¬í•œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
3. `set`ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ì„¤ì •í•©ë‹ˆë‹¤.
4. `useSearchParams`ì˜ `setSearchParams`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ ë¬¸ìì—´ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
