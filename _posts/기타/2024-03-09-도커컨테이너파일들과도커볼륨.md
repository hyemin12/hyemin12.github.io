---
title: ë„ì»¤ ì»¨í…Œì´ë„ˆ ì•ˆì˜ íŒŒì¼ë“¤, ë„ì»¤ë³¼ë¥¨
date: 2024-03-09 16:24:00 +09:00
categories: ["ê¸°íƒ€", "ë„ì»¤"]
tags: []
toc: true
toc_sticky: true
---

## âœ¨ì»¨í…Œì´ë„ˆ ì•ˆì˜ íŒŒì¼ë“¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•

### 1.ì‹¤í–‰í•˜ê³  ìˆëŠ” ì»¨í…Œì´ë„ˆì™€ í˜¸ìŠ¤íŠ¸ ì‚¬ì´ì˜ íŒŒì¼ ë³µì‚¬í•˜ê¸°

ì»¨í…Œì´ë„ˆ ì•ˆì˜ íŒŒì¼ì˜ íŒŒì¼ì„ í˜¸ìŠ¤íŠ¸ë¡œ ë³µì‚¬í•´ì˜¬ ìˆ˜ë„ ìˆê³ , í˜¸ìŠ¤íŠ¸ì— ìˆëŠ” íŒŒì¼ì„ ë³µì‚¬í•´ì„œ ì»¨í…Œì´ë„ˆì— ì§‘ì–´ë„£ì„ ìˆ˜ë„ ìˆìŒ

```
docker cp
```

#### ì‹¤ìŠµ

#### 1. ë„ì»¤ ì»¨í…Œì´ë„ˆ, ì´ë¯¸ì§€ ë§Œë“¤ê¸°

```
docker run --rm -d -p 8080:80 --name my_nginx nginx:latest
```

#### 2. ì‰˜ ë¶™ì´ê¸°

```
docker exec -it my_nginx /bin/bash
```

#### 3. í´ë” ì•ˆì— ë“¤ì–´ ìˆëŠ” HTML íŒŒì¼ í™•ì¸í•˜ê¸°

```
# cat /usr/share/nginx/html/index.html
```

ğŸ’¡ê²°ê³¼

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Welcome to nginx!</title>
    <style>
      html {
        color-scheme: light dark;
      }
      body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <h1>Welcome to nginx!</h1>
    <p>
      If you see this page, the nginx web server is successfully installed and
      working. Further configuration is required.
    </p>

    <p>
      For online documentation and support please refer to
      <a href="http://nginx.org/">nginx.org</a>.<br />
      Commercial support is available at
      <a href="http://nginx.com/">nginx.com</a>.
    </p>

    <p><em>Thank you for using nginx.</em></p>
  </body>
</html>
```

#### 4. ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” index.htmlë¥¼ ì»¨í…Œì´ë„ˆì— ë³µì‚¬í•˜ê¸°

```
docker cp index.html my_nginx:/usr/share/nginx/html
```

localhost:8080 ì— ë“¤ì–´ê°€ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•´ë³´ë©´ ê¸°ì¡´ì˜ index.htmlì´ ë®ì–´ì¨ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

ï¼ƒ ëª…ë ¹ì–´ ëœ¯ì–´ë³´ê¸°

```
docker cp [íŒŒì¼ëª…] [ì»¨í…Œì´ë„ˆ_ì´ë¦„]:[ê²½ë¡œ]
```

#### 5. ì»¨í…Œì´ë„ˆì— ìˆëŠ” íŒŒì¼ í˜¸ìŠ¤íŠ¸(ë¡œì»¬)ë¡œ ë³µì‚¬í•˜ê¸°

```
docker cp my_nginx:/usr/share/nginx/html/50x.html .
```

í˜„ì¬ ë””ë ‰í† ë¦¬(í´ë”)ì— 50x.html íŒŒì¼ì´ ë³µì‚¬ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

ï¼ƒ ëª…ë ¹ì–´ ëœ¯ì–´ë³´ê¸°

```
docker cp [ì»¨í…Œì´ë„ˆ_ì´ë¦„]:[ë³µì‚¬í• _íŒŒì¼ì˜_ê²½ë¡œ] [ì €ì¥í• _ê²½ë¡œ]
```

### 2.ì´ë¯¸ì§€ ë¹Œë“œí•  ë•Œ í˜¸ìŠ¤íŠ¸ë¡œë¶€í„° íŒŒì¼ì„ ì»¨í…Œì´ë„ˆì— ì¶”ê°€í•˜ê¸°

Dockerfileì•ˆì— `ADD` ì§€ì‹œìë¥¼ í™œìš©(ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ ë•Œ ì»¨í…Œì´ë„ˆì— ì§‘ì–´ë„£ëŠ” ë°©ë²•)

```
ADD [í˜¸ìŠ¤íŠ¸_ë‚´_íŒŒì¼ì˜_ê²½ë¡œ] [ì»¨í…Œì´ë„ˆ_ë‚´_ë°°ì¹˜í• _íŒŒì¼ì˜_ê²½ë¡œ]
```

#### ì‹¤ìŠµ

#### 1. Dockerfileì— ì½”ë“œ ì‘ì„±í•˜ê¸°

```
FROM nginx:latest

ADD ./index.html /usr/share/nginx/html/new.html
CMD [ "nginx", '-g','daemon off' ]
```

#### 2. build ëª…ë ¹ì–´ë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±í•˜ê¸°

```
docker build -t your_nginx .
```

#### 3. ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸°

```
docker run --rm -d -p 8888:80 --name my_nginx your_nginx
```

ì‹¤í–‰ë˜ê³  ìˆëŠ” ì„œë²„(`localhost:8888/new.html`)ì— ë“¤ì–´ê°€ë³´ë©´, ì˜ ì‘ë™ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

### 3.ë°”ì¸ë“œ ë§ˆìš´íŠ¸

`-v` ì˜µì…˜ìœ¼ë¡œ í˜¸ìŠ¤íŠ¸ì˜ íŠ¹ì • ë””ë ‰í† ë¦¬(ê°™ì€ ë‚´ìš©)ë¥¼ ì»¨í…Œì´ë„ˆì™€ ê³µìœ 

```
docker run -v [í˜¸ìŠ¤íŠ¸_ê²½ë¡œ]:[ì»¨í…Œì´ë„ˆ_ê²½ë¡œ] [ì´ë¯¸ì§€]
```

#### ì‹¤ìŠµ

#### 1. ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸°

```
docker run -it -v .:/host_dir ubuntu:22.04 /bin/bash
```

#### 2. íŒŒì¼ì´ ì˜ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°

```
cat /host_dir/A.txt
```

ğŸ’¡ê²°ê³¼

```
This is a test file called A.txt
```

#### 3. íŒŒì¼ì´ ì˜ ìƒì„±ë˜ì—ˆë‹¤ë©´, ìƒˆë¡œìš´ íŒŒì¼ ìƒì„±í•˜ê¸°

```
cat > /host_dir/B.txt
This is a test file called B.txt
```

í¸ì§‘ì„ ì™„ë£Œí•  ë•Œì—ëŠ” `ctrl + d`ë¥¼ ëˆ„ë¥´ë©´ ë¨

#### 4. ì‰˜ì„ ë¹ ì ¸ë‚˜ì™€ì„œ ê³µìœ ëœ íŒŒì¼ ë‚´ìš© í™•ì¸í•˜ê¸°

`exit` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰˜ì„ ë¹ ì ¸ë‚˜ì˜¨ ë‹¤ìŒ

```
cat B.txt
```

ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.  
ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ì´ ì¢…ë£Œë˜ì–´ë„ ë™ì¼í•œ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ğŸ’¡ê²°ê³¼

```
This is a test file called B.txt
```

### 4.ë„ì»¤ ë³¼ë¥¨

#### ë³¼ë¥¨ ìƒì„± ëª…ë ¹ì–´

```
docker volume create [ë³¼ë¥¨_ì´ë¦„]
```

#### ë³¼ë¥¨ ëª©ë¡ í™•ì¸ ëª…ë ¹ì–´

```
docker volume ls
```

#### ë³¼ë¥¨ ì •ë³´ í™•ì¸ ëª…ë ¹ì–´

```
docker inspect [ë³¼ë¥¨_ì´ë¦„]
```
