---
title: JEST í…ŒìŠ¤íŠ¸ ì½”ë“œ
date: 2024-02-22 16:24:00 +09:00
categories: ["ê¸°íƒ€", "í…ŒìŠ¤íŠ¸"]
tags: []
toc: true
toc_sticky: true
---

## JEST

í˜ì´ìŠ¤ë¶ì—ì„œ ë§Œë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬  
ê³µì‹ ë¬¸ì„œ
[[JEST Getting Started]](https://jestjs.io/docs/getting-started)

## ğŸ’»ì„¤ì¹˜ ë°©ë²•

**â€» create-react-appìœ¼ë¡œ ì„¤ì¹˜í•œ ê²½ìš°ì—ëŠ” ë³„ë„ë¡œ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ë¨**

### vite typescript í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì¹˜í•˜ê¸°

#### 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜í•˜ê¸°

```bash
npm install --save-dev -D jest @types/jest ts-node ts-jest @testing-library/react identity-obj-proxy jest-environment-jsdom @testing-library/jest-dom jest-svg-transformer
```

#### 2. package.jsonì— scripts ì¶”ê°€í•˜ê¸°

```js
// package.json

{
  "scripts": {
    "test": "jest"
  }
}
```

#### 3. jest.config.ts (jest ì„¤ì • íŒŒì¼) ì¶”ê°€í•˜ê¸°

```ts
// jest.config.ts

export default {
  testEnvironment: "jsdom",
  transform: {
    "^.+\\.tsx?$": "ts-jest"
  },
  moduleNameMapper: {
    "^.+\\.svg$": "jest-svg-transformer",
    "\\.(css|less|sass|scss)$": "identity-obj-proxy"
  },
  setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"]
};
```

#### 4. root í´ë”ì— jest.seup.ts íŒŒì¼ ì¶”ê°€í•˜ê¸°

```ts
import "@testing-library/jest-dom/extend-expect";
```

#### 5. lintì—ëŸ¬ ë°œìƒí•˜ë©´ .eslintignore íŒŒì¼ì— ì½”ë“œ ì¶”ê°€í•´ì„œ lintingì—ì„œ ì œì™¸í•˜ê¸°

```
.eslintrc.cjs
jest.config.ts
jest.setup.ts
```

#### 6. tsconfig.jsonì— complile ì˜µì…˜ ì¶”ê°€í•˜ê¸°

```json
// tsconfig.json

{
	"compilerOptions":{
  ...,
  "esModuleInterop": true
  }
}
```

#### 7. src í´ë”ì— `__test__`í´ë” ìƒì„± í›„ App.test.tsx íŒŒì¼ ìƒì„±í•˜ê¸°

```tsx
// App.test.tsx

import { render, screen, fireEvent } from "@testing-library/react";

// í…ŒìŠ¤íŠ¸í•  íŒŒì¼
import App from "../App";

test("Renders main page correctly", async () => {
  render(<App />);

  const submitButton = await screen.findByRole("button");
  expect(submitButton.innerHTML).toBe("ì œì¶œ");
});
```

## ğŸ’»í…ŒìŠ¤íŠ¸ ë°©ë²•

```bash
npm run test
```

íŠ¹ì • íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸ í•˜ê³  ì‹¶ì€ ê²½ìš°

```bash
npm run test íŒŒì¼ëª…

npm run test Button.spec.tsx
```

## ğŸ’»í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì£¼ìš” í•¨ìˆ˜ë“¤

### ğŸ’¡í…ŒìŠ¤íŠ¸ ê·¸ë£¹í™”

`describe()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ìŒ

```js
describe("ê³„ì‚° í…ŒìŠ¤íŠ¸", () => {
  test("1 + 2 = 3 ???", () => {
    expect(1 + 2).toBe(3);
  });

  test("2 - 1 = 1 ???", () => {
    expect(2 - 1).toBe(1);
  });
});
```

### ğŸ’¡ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì •ì˜

`test()` ë˜ëŠ” `it()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ê¸°ëŠ¥ì´ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸

```js
test("1 + 2 = 3 ???", () => {
  expect(1 + 2).toBe(3);
});

it("1 + 2 = 3 ???", () => {
  expect(1 + 2).toBe(3);
});
```

### ğŸ’¡ì˜ˆìƒ ê²°ê³¼ ì„¤ì • ë° í™•ì¸

`expect()`ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ì˜ ì˜ˆìƒ ê²°ê³¼ë¥¼ ì„¤ì •í•˜ê³ , í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì˜ˆìƒí•œ ëŒ€ë¡œ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸

```js
expect(1 + 2).toBe(3);
```

### ğŸ’¡ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§

`render()`ì„ ì‚¬ìš©í•´ì„œ ê°€ìƒ DOMì„ ë§Œë“¤ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•´ ì‚¬ìš©

```js
test("Renders main page correctly", async () => {
  // Appì„ ë Œë”ë§
  render(<App />);
});
```

### ğŸ’¡ì‹¤ì œ í™”ë©´ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ê¸°

`screen()`ì„ ì‚¬ìš©í•´ì„œ `render()`ëœ ì»´í¬ë„ŒíŠ¸ì˜ í™”ë©´ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì¡°ì‘í•¨

```js
test("ë Œë” í™•ì¸", () => {
  render(<Button>ë²„íŠ¼</Button>);
  expect(screen.getByText("ë²„íŠ¼")).toBeInTheDocument();
});
```

#### â— `getByRole`: íŠ¹ì • ì—­í• ì„ ê°€ì§„ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜

```js
const button = screen.getByRole("button");
```

#### â— `getByText`: íŠ¹ì • í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜

`render()`ë¡œ ë Œë”ë§ëœ ìš”ì†Œ ì¤‘ì— getByTextë¥¼ ì‚¬ìš©í•´ì„œ íŠ¹ì • í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ ìš”ì†Œë¥¼ ì°¾ìŒ

```js
test("renders welcome message", () => {
  const { getByText } = render(<MyComponent />);
  const welcomeMessage = getByText("Welcome!");
  expect(welcomeMessage).toBeInTheDocument();
});
```

### ğŸ“˜ê¸°íƒ€ í•¨ìˆ˜

#### ï¼Š`toBe`: ì£¼ì–´ì§„ ê°’ì´ ì—„ê²©í•˜ê²Œ ê°™ì€ì§€(===)ë¥¼ í™•ì¸

```js
expect(2 + 2).toBe(4);
```

#### ï¼Š`toEqual`: ì£¼ì–´ì§„ ê°’ì´ ê°ì²´ ë˜ëŠ” ë°°ì—´ì¸ ê²½ìš° ë‚´ìš©ì´ ë™ì¼í•œì§€ë¥¼ í™•ì¸

```js
const array = [1, 2, 3];
expect(array).toEqual([1, 2, 3]);
```

#### ï¼Š`toBeDefined`: ì£¼ì–´ì§„ ê°’ì´ undefinedê°€ ì•„ë‹˜ì„ í™•ì¸

```js
expect(value).toBeDefined();
```

#### ï¼Š`toBeUndefined`: ì£¼ì–´ì§„ ê°’ì´ undefinedì„ì„ í™•ì¸

```js
expect(value).toBeUndefined();
```

#### ï¼Š`toBeNull`: ì£¼ì–´ì§„ ê°’ì´ nullì„ì„ í™•ì¸

```js
expect(value).toBeNull();
```

#### ï¼Š`toBeGreaterThan`: ì£¼ì–´ì§„ ê°’ì´ ë¹„êµí•˜ëŠ” ê°’ë³´ë‹¤ í°ì§€ í™•ì¸

```js
expect(2 + 2).toBeGreaterThan(3);
```

#### ï¼Š`toBeGreaterThanOrEqual`: ì£¼ì–´ì§„ ê°’ì´ ë¹„êµí•˜ëŠ” ê°’ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ì§€ í™•ì¸

```js
expect(2 + 2).toBeGreaterThanOrEqual(3);
```

#### ï¼Š`toBeLessThan`: ì£¼ì–´ì§„ ê°’ì´ ë¹„êµí•˜ëŠ” ê°’ë³´ë‹¤ ì‘ì€ì§€ í™•ì¸

```js
expect(2 + 2).toBeLessThan(3);
```

#### ï¼Š`toBeLessThanOrEqual`: ì£¼ì–´ì§„ ê°’ì´ ë¹„êµí•˜ëŠ” ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ì§€ í™•ì¸

```js
expect(2 + 2).toBeLessThanOrEqual(3);
```

#### ï¼Š`toMatch`: ë¬¸ìì—´ ë™ì¼í•œì§€, ì •ê·œì‹ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€

```js
expect("Christoph").toMatch("stop");
expect(value).toMatch(/world/);
```

#### ï¼Š`toContain`: íŠ¹ì •ê°’ì„ ê°€ì§€ê³  ìˆëŠ”ì§€

```js
expect(array).toContain("milk");
```

#### ï¼Š`toHaveLength`: ë°°ì—´ ë˜ëŠ” ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ ì£¼ì–´ì§„ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€

```js
expect(string).toHaveLength(14);
expect(array).toHaveLength(4);
```

#### ï¼Š`toBeInTheDocument`: documentì— í•´ë‹¹ ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

```js
expect(screen.getByRole("button")).toBeInTheDocument();
```

#### ï¼Š`toHaveStyle`: í•´ë‹¹ ìŠ¤íƒ€ì¼ê°’ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸

```js
expect(container.firstChild).toHaveStyle({ fontSize: "1.5rem" });
```

#### ï¼Š`toHaveClass`: í•´ë‹¹ ìš”ì†Œê°€ ì§€ì •ëœ í´ë˜ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸

```js
expect(container.firstChild).toHaveClass("active");
```

#### ï¼Š`toBeVisible`: í•´ë‹¹ ìš”ì†Œê°€ í™”ë©´ì— ë³´ì—¬ì§€ëŠ” ìƒíƒœì¸ì§€ í™•ì¸

```js
expect(modal).toBeVisible();
```

#### ï¼Š`toBeEnabled`: í•´ë‹¹ ìš”ì†Œê°€ í™œì„±í™” ìƒíƒœì¸ì§€ í™•ì¸ (ë²„íŠ¼, ì…ë ¥ê³¼ ê°™ì´ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ìš”ì†Œê°€ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸)

```js
expect(button).toBeEnabled();
```

#### ï¼Š`toBeDisabled`: í•´ë‹¹ ìš”ì†Œê°€ disabled ìƒíƒœì¸ì§€ í™•ì¸

```js
expect(button).toBeDisabled();
```

#### ï¼Š`toHaveAttribute`: í•´ë‹¹ ìš”ì†Œê°€ ì§€ì •ëœ ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸ (href ê°’ì´ë‚˜ ì´ë¯¸ì§€ì˜ src ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ìˆëŠ”ì§€ í™•ì¸)

```js
expect(link).toHaveAttribute("href", "https://naver.com");
```

ì°¸ê³  ì‚¬ì´íŠ¸

- [Vite í”„ë¡œì íŠ¸ì— Jest ì¶”ê°€í•˜ê¸°](https://velog.io/@thdrldud369/Vite-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-jest-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0#jest-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80)
